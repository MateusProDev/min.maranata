!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Slate={})}(this,(function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function u(e,t){return e(t={exports:{}},t.exports),t.exports}var r=u((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r},e.exports.default=e.exports,e.exports.__esModule=!0}));t(r);var n=u((function(e){e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0}));t(n);var o=u((function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0}));t(o);var i=u((function(e){e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);return"Object"===u&&e.constructor&&(u=e.constructor.name),"Map"===u||"Set"===u?Array.from(e):"Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}));t(i);var a=u((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}));t(a);var s=t(u((function(e){e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0}))),c=t(u((function(e){e.exports=function(e,t,u){return t in e?Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[t]=u,e},e.exports.default=e.exports,e.exports.__esModule=!0}))),f=u((function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0}));t(f);var l=u((function(e){e.exports=function(e,t){var u=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=u){var r,n,o=[],i=!0,a=!1;try{for(u=u.call(e);!(i=(r=u.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){a=!0,n=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw n}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0}));t(l);var D=u((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}));t(D);var C=u((function(e){e.exports=function(e,t){return f(e)||l(e,t)||i(e,t)||D()},e.exports.default=e.exports,e.exports.__esModule=!0})),d=t(C),h=new WeakMap,v=new WeakMap,p=new WeakMap,B=new WeakMap,A=new WeakMap,F=new WeakMap,E=new WeakMap;function g(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function y(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?g(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):g(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function m(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}var w=u((function(e){e.exports=function(e,t){if(null==e)return{};var u,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)u=o[r],t.indexOf(u)>=0||(n[u]=e[u]);return n},e.exports.default=e.exports,e.exports.__esModule=!0}));t(w);var x=u((function(e){e.exports=function(e,t){if(null==e)return{};var u,r,n=w(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)u=o[r],t.indexOf(u)>=0||Object.prototype.propertyIsEnumerable.call(e,u)&&(n[u]=e[u])}return n},e.exports.default=e.exports,e.exports.__esModule=!0})),O=t(x),P=u((function(e){var t=function(e){var t,u=Object.prototype,r=u.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,u){return Object.defineProperty(e,t,{value:u,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,u){return e[t]=u}}function c(e,t,u,r){var n=t&&t.prototype instanceof v?t:v,o=Object.create(n.prototype),i=new O(r||[]);return o._invoke=function(e,t,u){var r=l;return function(n,o){if(r===C)throw new Error("Generator is already running");if(r===d){if("throw"===n)throw o;return k()}for(u.method=n,u.arg=o;;){var i=u.delegate;if(i){var a=b(i,u);if(a){if(a===h)continue;return a}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(r===l)throw r=d,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);r=C;var s=f(e,t,u);if("normal"===s.type){if(r=u.done?d:D,s.arg===h)continue;return{value:s.arg,done:u.done}}"throw"===s.type&&(r=d,u.method="throw",u.arg=s.arg)}}}(e,u,i),o}function f(e,t,u){try{return{type:"normal",arg:e.call(t,u)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",D="suspendedYield",C="executing",d="completed",h={};function v(){}function p(){}function B(){}var A={};s(A,o,(function(){return this}));var F=Object.getPrototypeOf,E=F&&F(F(P([])));E&&E!==u&&r.call(E,o)&&(A=E);var g=B.prototype=v.prototype=Object.create(A);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){function u(n,o,i,a){var s=f(e[n],e,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){u("next",e,i,a)}),(function(e){u("throw",e,i,a)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return u("throw",e,i,a)}))}a(s.arg)}var n;this._invoke=function(e,r){function o(){return new t((function(t,n){u(e,r,t,n)}))}return n=n?n.then(o,o):o()}}function b(e,u){var r=e.iterator[u.method];if(r===t){if(u.delegate=null,"throw"===u.method){if(e.iterator.return&&(u.method="return",u.arg=t,b(e,u),"throw"===u.method))return h;u.method="throw",u.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,e.iterator,u.arg);if("throw"===n.type)return u.method="throw",u.arg=n.arg,u.delegate=null,h;var o=n.arg;return o?o.done?(u[e.resultName]=o.value,u.next=e.nextLoc,"return"!==u.method&&(u.method="next",u.arg=t),u.delegate=null,h):o:(u.method="throw",u.arg=new TypeError("iterator result is not an object"),u.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(e){if(e){var u=e[o];if(u)return u.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function u(){for(;++n<e.length;)if(r.call(e,n))return u.value=e[n],u.done=!1,u;return u.value=t,u.done=!0,u};return i.next=i}}return{next:k}}function k(){return{value:t,done:!0}}return p.prototype=B,s(g,"constructor",B),s(B,"constructor",p),p.displayName=s(B,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,B):(e.__proto__=B,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(m.prototype),s(m.prototype,i,(function(){return this})),e.AsyncIterator=m,e.async=function(t,u,r,n,o){void 0===o&&(o=Promise);var i=new m(c(t,u,r,n),o);return e.isGeneratorFunction(u)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,a,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var u in e)t.push(u);return t.reverse(),function u(){for(;t.length;){var r=t.pop();if(r in e)return u.value=r,u.done=!1,u}return u.done=!0,u}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var u in this)"t"===u.charAt(0)&&r.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var u=this;function n(r,n){return a.type="throw",a.arg=e,u.next=r,n&&(u.method="next",u.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var u=this.tryEntries.length-1;u>=0;--u){var n=this.tryEntries[u];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.finallyLoc===e)return this.complete(u.completion,u.afterLoc),x(u),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var u=this.tryEntries[t];if(u.tryLoc===e){var r=u.completion;if("throw"===r.type){var n=r.arg;x(u)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,u,r){return this.delegate={iterator:P(e),resultName:u,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),k=P;
/*!
	 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
	 *
	 * Copyright (c) 2014-2017, Jon Schlinkert.
	 * Released under the MIT License.
	 */
function j(e){return"[object Object]"===Object.prototype.toString.call(e)}function S(e){var t,u;return!1!==j(e)&&(void 0===(t=e.constructor)||!1!==j(u=t.prototype)&&!1!==u.hasOwnProperty("isPrototypeOf"))}function _(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}var T,R=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!u,n=u?W(e):e,o=T.None,i=T.None,a=0,s=null,c=_(n);try{for(c.s();!(t=c.n()).done;){var f=t.value,l=f.codePointAt(0);if(!l)break;var D=te(f,l),C=r?[i,D]:[D,o],h=d(C,2);if(o=h[0],i=h[1],ue(o,T.ZWJ)&&ue(i,T.ExtPict)&&!ie(r?e.substring(0,a):e.substring(0,e.length-a)))break;if(ue(o,T.RI)&&ue(i,T.RI)&&!(s=null!==s?!s:!!r||se(e.substring(0,e.length-a))))break;if(o!==T.None&&i!==T.None&&ne(o,i))break;a+=f.length}}catch(e){c.e(e)}finally{c.f()}return a||1},I=/\s/,L=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,M=/['\u2018\u2019]/,q=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=0,r=!1;e.length>0;){var n=R(e,t),o=V(e,n,t),i=d(o,2),a=i[0],s=i[1];if(z(a,s,t))r=!0,u+=n;else{if(r)break;u+=n}e=s}return u},V=function(e,t,u){if(u){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},z=function e(t,u){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(I.test(t))return!1;if(M.test(t)){var n=R(u,r),o=V(u,n,r),i=d(o,2),a=i[0],s=i[1];if(e(a,s,r))return!0}return!L.test(t)},W=k.mark((function e(t){var u,r,n,o;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=t.length-1,r=0;case 2:if(!(r<t.length)){e.next=16;break}if(n=t.charAt(u-r),!U(n.charCodeAt(0))){e.next=11;break}if(o=t.charAt(u-r-1),!$(o.charCodeAt(0))){e.next=11;break}return e.next=9,o+n;case 9:return r++,e.abrupt("continue",13);case 11:return e.next=13,n;case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})),$=function(e){return e>=55296&&e<=56319},U=function(e){return e>=56320&&e<=57343};!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(T||(T={}));var G=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,J=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,K=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Z=/^[\u1100-\u115F\uA960-\uA97C]$/,Y=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,X=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,H=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Q=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,ee=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,te=function(e,t){var u=T.Any;return-1!==e.search(G)&&(u|=T.Extend),8205===t&&(u|=T.ZWJ),t>=127462&&t<=127487&&(u|=T.RI),-1!==e.search(J)&&(u|=T.Prepend),-1!==e.search(K)&&(u|=T.SpacingMark),-1!==e.search(Z)&&(u|=T.L),-1!==e.search(Y)&&(u|=T.V),-1!==e.search(X)&&(u|=T.T),-1!==e.search(H)&&(u|=T.LV),-1!==e.search(Q)&&(u|=T.LVT),-1!==e.search(ee)&&(u|=T.ExtPict),u};function ue(e,t){return 0!=(e&t)}var re=[[T.L,T.L|T.V|T.LV|T.LVT],[T.LV|T.V,T.V|T.T],[T.LVT|T.T,T.T],[T.Any,T.Extend|T.ZWJ],[T.Any,T.SpacingMark],[T.Prepend,T.Any],[T.ZWJ,T.ExtPict],[T.RI,T.RI]];function ne(e,t){return-1===re.findIndex((function(u){return ue(e,u[0])&&ue(t,u[1])}))}var oe=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,ie=function(e){return-1!==e.search(oe)},ae=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,se=function(e){var t=e.match(ae);return null!==t&&t[0].length/2%2==1},ce=function(e){return S(e)&&mt.isNodeList(e.children)&&!Be.isEditor(e)},fe={isAncestor:function(e){return S(e)&&mt.isNodeList(e.children)},isElement:ce,isElementList:function(e){return Array.isArray(e)&&e.every((function(e){return fe.isElement(e)}))},isElementProps:function(e){return void 0!==e.children},isElementType:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return ce(e)&&e[u]===t},matches:function(e,t){for(var u in t)if("children"!==u&&e[u]!==t[u])return!1;return!0}},le=["text"],De=["text"];function Ce(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function de(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):Ce(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function he(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return ve(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}var pe=new WeakMap,Be={above:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.voids,r=void 0!==u&&u,n=t.mode,o=void 0===n?"lowest":n,i=t.at,a=void 0===i?e.selection:i,s=t.match;if(a){var c,f=Be.path(e,a),l="lowest"===o,D=he(Be.levels(e,{at:f,voids:r,match:s,reverse:l}));try{for(D.s();!(c=D.n()).done;){var C=d(c.value,2),h=C[0],v=C[1];if(!Jt.isText(h))if(Rt.isRange(a)){if(Ot.isAncestor(v,a.anchor.path)&&Ot.isAncestor(v,a.focus.path))return[h,v]}else if(!Ot.equals(f,v))return[h,v]}}catch(e){D.e(e)}finally{D.f()}}},addMark:function(e,t,u){e.addMark(t,u)},after:function(e,t){var u,r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Be.point(e,t,{edge:"end"}),i=Be.end(e,[]),a={anchor:o,focus:i},s=n.distance,c=void 0===s?1:s,f=0,l=he(Be.positions(e,de(de({},n),{},{at:a})));try{for(l.s();!(r=l.n()).done;){var D=r.value;if(f>c)break;0!==f&&(u=D),f++}}catch(e){l.e(e)}finally{l.f()}return u},before:function(e,t){var u,r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Be.start(e,[]),i=Be.point(e,t,{edge:"start"}),a={anchor:o,focus:i},s=n.distance,c=void 0===s?1:s,f=0,l=he(Be.positions(e,de(de({},n),{},{at:a,reverse:!0})));try{for(l.s();!(r=l.n()).done;){var D=r.value;if(f>c)break;0!==f&&(u=D),f++}}catch(e){l.e(e)}finally{l.f()}return u},deleteBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.unit,r=void 0===u?"character":u;e.deleteBackward(r)},deleteForward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.unit,r=void 0===u?"character":u;e.deleteForward(r)},deleteFragment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.direction,r=void 0===u?"forward":u;e.deleteFragment(r)},edges:function(e,t){return[Be.start(e,t),Be.end(e,t)]},end:function(e,t){return Be.point(e,t,{edge:"end"})},first:function(e,t){var u=Be.path(e,t,{edge:"start"});return Be.node(e,u)},fragment:function(e,t){var u=Be.range(e,t),r=mt.fragment(e,u);return r},hasBlocks:function(e,t){return t.children.some((function(t){return fe.isElement(t)&&Be.isBlock(e,t)}))},hasInlines:function(e,t){return t.children.some((function(t){return Jt.isText(t)||Be.isInline(e,t)}))},hasTexts:function(e,t){return t.children.every((function(e){return Jt.isText(e)}))},insertBreak:function(e){e.insertBreak()},insertSoftBreak:function(e){e.insertSoftBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return!e.isInline(t)},isEditor:function(e){var t=pe.get(e);if(void 0!==t)return t;if(!S(e))return!1;var u="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||S(e.marks))&&(null===e.selection||Rt.isRange(e.selection))&&mt.isNodeList(e.children)&&xt.isOperationList(e.operations);return pe.set(e,u),u},isEnd:function(e,t,u){var r=Be.end(e,u);return St.equals(t,r)},isEdge:function(e,t,u){return Be.isStart(e,t,u)||Be.isEnd(e,t,u)},isEmpty:function(e,t){var u=t.children,r=d(u,1)[0];return 0===u.length||1===u.length&&Jt.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:function(e,t){return e.isInline(t)},isNormalizing:function(e){var t=B.get(e);return void 0===t||t},isStart:function(e,t,u){if(0!==t.offset)return!1;var r=Be.start(e,u);return St.equals(t,r)},isVoid:function(e,t){return e.isVoid(t)},last:function(e,t){var u=Be.path(e,t,{edge:"end"});return Be.node(e,u)},leaf:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Be.path(e,t,u),n=mt.leaf(e,r);return[n,r]},levels:k.mark((function(e){var t,u,r,n,o,i,a,s,c,f,l,D,C,h,v,p=arguments;return k.wrap((function(B){for(;;)switch(B.prev=B.next){case 0:if(t=p.length>1&&void 0!==p[1]?p[1]:{},u=t.at,r=void 0===u?e.selection:u,n=t.reverse,o=void 0!==n&&n,i=t.voids,a=void 0!==i&&i,null==(s=t.match)&&(s=function(){return!0}),r){B.next=6;break}return B.abrupt("return");case 6:c=[],f=Be.path(e,r),l=he(mt.levels(e,f)),B.prev=9,l.s();case 11:if((D=l.n()).done){B.next=20;break}if(C=d(D.value,2),h=C[0],v=C[1],s(h,v)){B.next=15;break}return B.abrupt("continue",18);case 15:if(c.push([h,v]),a||!fe.isElement(h)||!Be.isVoid(e,h)){B.next=18;break}return B.abrupt("break",20);case 18:B.next=11;break;case 20:B.next=25;break;case 22:B.prev=22,B.t0=B.catch(9),l.e(B.t0);case 25:return B.prev=25,l.f(),B.finish(25);case 28:return o&&c.reverse(),B.delegateYield(c,"t1",30);case 30:case"end":return B.stop()}}),c,null,[[9,22,25,28]])})),marks:function(e){var t=e.marks,u=e.selection;if(!u)return null;if(t)return t;if(Rt.isExpanded(u)){var r=Be.nodes(e,{match:Jt.isText}),n=d(r,1)[0];if(n){var o=d(n,1)[0];return o.text,O(o,le)}return{}}var i=u.anchor,a=i.path,s=Be.leaf(e,a),c=d(s,1)[0];if(0===i.offset){var f=Be.previous(e,{at:a,match:Jt.isText}),l=Be.above(e,{match:function(t){return fe.isElement(t)&&Be.isVoid(e,t)&&e.markableVoid(t)}});if(!l){var D=Be.above(e,{match:function(t){return fe.isElement(t)&&Be.isBlock(e,t)}});if(f&&D){var C=d(f,2),h=C[0],v=C[1],p=d(D,2)[1];Ot.isAncestor(p,v)&&(c=h)}}}var B=c;return B.text,O(B,De)},next:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.mode,r=void 0===u?"lowest":u,n=t.voids,o=void 0!==n&&n,i=t.match,a=t.at,s=void 0===a?e.selection:a;if(s){var c=Be.after(e,s,{voids:o});if(c){var f=Be.last(e,[]),l=d(f,2),D=l[1],C=[c.path,D];if(Ot.isPath(s)&&0===s.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(Ot.isPath(s)){var h=Be.parent(e,s),v=d(h,1),p=v[0];i=function(e){return p.children.includes(e)}}else i=function(){return!0};var B=Be.nodes(e,{at:C,match:i,mode:r,voids:o}),A=d(B,1),F=A[0];return F}}},node:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Be.path(e,t,u),n=mt.get(e,r);return[n,r]},nodes:k.mark((function e(t){var u,r,n,o,i,a,s,c,f,l,D,C,h,v,p,B,A,F,E,g,y,m,b,w,x,O,P=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=P.length>1&&void 0!==P[1]?P[1]:{},r=u.at,n=void 0===r?t.selection:r,o=u.mode,i=void 0===o?"all":o,a=u.universal,s=void 0!==a&&a,c=u.reverse,f=void 0!==c&&c,l=u.voids,D=void 0!==l&&l,(C=u.match)||(C=function(){return!0}),n){e.next=6;break}return e.abrupt("return");case 6:Fe.isSpan(n)?(h=n[0],v=n[1]):(p=Be.path(t,n,{edge:"start"}),B=Be.path(t,n,{edge:"end"}),h=f?B:p,v=f?p:B),A=mt.nodes(t,{reverse:f,from:h,to:v,pass:function(e){var u=d(e,1)[0];return!D&&(fe.isElement(u)&&Be.isVoid(t,u))}}),F=[],g=he(A),e.prev=10,g.s();case 12:if((y=g.n()).done){e.next=37;break}if(m=d(y.value,2),b=m[0],w=m[1],x=E&&0===Ot.compare(w,E[1]),"highest"!==i||!x){e.next=17;break}return e.abrupt("continue",35);case 17:if(C(b,w)){e.next=23;break}if(!s||x||!Jt.isText(b)){e.next=22;break}return e.abrupt("return");case 22:return e.abrupt("continue",35);case 23:if("lowest"!==i||!x){e.next=26;break}return E=[b,w],e.abrupt("continue",35);case 26:if(!(O="lowest"===i?E:[b,w])){e.next=34;break}if(!s){e.next=32;break}F.push(O),e.next=34;break;case 32:return e.next=34,O;case 34:E=[b,w];case 35:e.next=12;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(10),g.e(e.t0);case 42:return e.prev=42,g.f(),e.finish(42);case 45:if("lowest"!==i||!E){e.next=52;break}if(!s){e.next=50;break}F.push(E),e.next=52;break;case 50:return e.next=52,E;case 52:if(!s){e.next=54;break}return e.delegateYield(F,"t1",54);case 54:case"end":return e.stop()}}),e,null,[[10,39,42,45]])})),normalize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.force,r=void 0!==u&&u,n=t.operation,o=function(e){return h.get(e)||[]},i=function(e){return v.get(e)||new Set},a=function(e){var t=o(e).pop(),u=t.join(",");return i(e).delete(u),t};if(Be.isNormalizing(e)){if(r){var s=Array.from(mt.nodes(e),(function(e){return d(e,2)[1]})),c=new Set(s.map((function(e){return e.join(",")})));h.set(e,s),v.set(e,c)}0!==o(e).length&&Be.withoutNormalizing(e,(function(){var t,u=he(o(e));try{for(u.s();!(t=u.n()).done;){var r=t.value;if(mt.has(e,r)){var i=Be.node(e,r),s=d(i,2),c=s[0];s[1];fe.isElement(c)&&0===c.children.length&&e.normalizeNode(i,{operation:n})}}}catch(e){u.e(e)}finally{u.f()}for(var f=o(e),l=f.length,D=0;0!==f.length;){if(!e.shouldNormalize({dirtyPaths:f,iteration:D,initialDirtyPathsLength:l,operation:n}))return;var C=a(e);if(mt.has(e,C)){var h=Be.node(e,C);e.normalizeNode(h,{operation:n})}D++,f=o(e)}}))}},parent:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Be.path(e,t,u),n=Ot.parent(r),o=Be.node(e,n);return o},path:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.depth,n=u.edge;if(Ot.isPath(t))if("start"===n){var o=mt.first(e,t),i=d(o,2),a=i[1];t=a}else if("end"===n){var s=mt.last(e,t),c=d(s,2),f=c[1];t=f}return Rt.isRange(t)&&(t="start"===n?Rt.start(t):"end"===n?Rt.end(t):Ot.common(t.anchor.path,t.focus.path)),St.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath:function(e,t){return mt.has(e,t)},pathRef:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.affinity,n=void 0===r?"forward":r,o={current:t,affinity:n,unref:function(){var t=o.current;return Be.pathRefs(e).delete(o),o.current=null,t}},i=Be.pathRefs(e);return i.add(o),o},pathRefs:function(e){var t=A.get(e);return t||(t=new Set,A.set(e,t)),t},point:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.edge,n=void 0===r?"start":r;if(Ot.isPath(t)){var o;if("end"===n){var i=mt.last(e,t),a=d(i,2),s=a[1];o=s}else{var c=mt.first(e,t),f=d(c,2),l=f[1];o=l}var D=mt.get(e,o);if(!Jt.isText(D))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:o,offset:"end"===n?D.text.length:0}}if(Rt.isRange(t)){var C=Rt.edges(t),h=d(C,2),v=h[0],p=h[1];return"start"===n?v:p}return t},pointRef:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.affinity,n=void 0===r?"forward":r,o={current:t,affinity:n,unref:function(){var t=o.current;return Be.pointRefs(e).delete(o),o.current=null,t}},i=Be.pointRefs(e);return i.add(o),o},pointRefs:function(e){var t=F.get(e);return t||(t=new Set,F.set(e,t)),t},positions:k.mark((function e(t){var u,r,n,o,i,a,s,c,f,l,D,C,h,v,p,B,A,F,E,g,y,m,b,w,x,O,P,j,S,_=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S=function(e,t,u){return"character"===t?R(e,u):"word"===t?q(e,u):"line"===t||"block"===t?e.length:1},u=_.length>1&&void 0!==_[1]?_[1]:{},r=u.at,n=void 0===r?t.selection:r,o=u.unit,i=void 0===o?"offset":o,a=u.reverse,s=void 0!==a&&a,c=u.voids,f=void 0!==c&&c,n){e.next=5;break}return e.abrupt("return");case 5:l=Be.range(t,n),D=Rt.edges(l),C=d(D,2),h=C[0],v=C[1],p=s?v:h,B=!1,A="",F=0,E=0,g=0,y=he(Be.nodes(t,{at:n,reverse:s,voids:f})),e.prev=14,y.s();case 16:if((m=y.n()).done){e.next=51;break}if(b=d(m.value,2),w=b[0],x=b[1],!fe.isElement(w)){e.next=26;break}if(f||!t.isVoid(w)){e.next=23;break}return e.next=22,Be.start(t,x);case 22:return e.abrupt("continue",49);case 23:if(!t.isInline(w)){e.next=25;break}return e.abrupt("continue",49);case 25:Be.hasInlines(t,w)&&(O=Ot.isAncestor(x,v.path)?v:Be.end(t,x),P=Ot.isAncestor(x,h.path)?h:Be.start(t,x),A=Be.string(t,{anchor:P,focus:O},{voids:f}),B=!0);case 26:if(!Jt.isText(w)){e.next=49;break}if((j=Ot.equals(x,p.path))?(E=s?p.offset:w.text.length-p.offset,g=p.offset):(E=w.text.length,g=s?E:0),!j&&!B&&"offset"!==i){e.next=33;break}return e.next=32,{path:x,offset:g};case 32:B=!1;case 33:if(0!==F){e.next=39;break}if(""!==A){e.next=37;break}return e.abrupt("break",49);case 37:F=S(A,i,s),A=V(A,F,s)[1];case 39:if(g=s?g-F:g+F,!((E-=F)<0)){e.next=44;break}return F=-E,e.abrupt("break",49);case 44:return F=0,e.next=47,{path:x,offset:g};case 47:e.next=33;break;case 49:e.next=16;break;case 51:e.next=56;break;case 53:e.prev=53,e.t0=e.catch(14),y.e(e.t0);case 56:return e.prev=56,y.f(),e.finish(56);case 59:case"end":return e.stop()}}),e,null,[[14,53,56,59]])})),previous:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.mode,r=void 0===u?"lowest":u,n=t.voids,o=void 0!==n&&n,i=t.match,a=t.at,s=void 0===a?e.selection:a;if(s){var c=Be.before(e,s,{voids:o});if(c){var f=Be.first(e,[]),l=d(f,2),D=l[1],C=[c.path,D];if(Ot.isPath(s)&&0===s.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(Ot.isPath(s)){var h=Be.parent(e,s),v=d(h,1),p=v[0];i=function(e){return p.children.includes(e)}}else i=function(){return!0};var B=Be.nodes(e,{reverse:!0,at:C,match:i,mode:r,voids:o}),A=d(B,1),F=A[0];return F}}},range:function(e,t,u){return Rt.isRange(t)&&!u?t:{anchor:Be.start(e,t),focus:Be.end(e,u||t)}},rangeRef:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.affinity,n=void 0===r?"forward":r,o={current:t,affinity:n,unref:function(){var t=o.current;return Be.rangeRefs(e).delete(o),o.current=null,t}},i=Be.rangeRefs(e);return i.add(o),o},rangeRefs:function(e){var t=E.get(e);return t||(t=new Set,E.set(e,t)),t},removeMark:function(e,t){e.removeMark(t)},setNormalizing:function(e,t){B.set(e,t)},start:function(e,t){return Be.point(e,t,{edge:"start"})},string:function(e,t){var u,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.voids,o=void 0!==n&&n,i=Be.range(e,t),a=Rt.edges(i),s=d(a,2),c=s[0],f=s[1],l="",D=he(Be.nodes(e,{at:i,match:Jt.isText,voids:o}));try{for(D.s();!(u=D.n()).done;){var C=d(u.value,2),h=C[0],v=C[1],p=h.text;Ot.equals(v,f.path)&&(p=p.slice(0,f.offset)),Ot.equals(v,c.path)&&(p=p.slice(c.offset)),l+=p}}catch(e){D.e(e)}finally{D.f()}return l},unhangRange:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.voids,n=void 0!==r&&r,o=Rt.edges(t),i=d(o,2),a=i[0],s=i[1];if(0!==a.offset||0!==s.offset||Rt.isCollapsed(t)||Ot.hasPrevious(s.path))return t;var c,f=Be.above(e,{at:s,match:function(t){return fe.isElement(t)&&Be.isBlock(e,t)},voids:n}),l=f?f[1]:[],D=Be.start(e,a),C={anchor:D,focus:s},h=!0,v=he(Be.nodes(e,{at:C,match:Jt.isText,reverse:!0,voids:n}));try{for(v.s();!(c=v.n()).done;){var p=d(c.value,2),B=p[0],A=p[1];if(h)h=!1;else if(""!==B.text||Ot.isBefore(A,l)){s={path:A,offset:B.text.length};break}}}catch(e){v.e(e)}finally{v.f()}return{anchor:a,focus:s}},void:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Be.above(e,de(de({},t),{},{match:function(t){return fe.isElement(t)&&Be.isVoid(e,t)}}))},withoutNormalizing:function(e,t){var u=Be.isNormalizing(e);Be.setNormalizing(e,!1);try{t()}finally{Be.setNormalizing(e,u)}Be.normalize(e)}},Ae={isLocation:function(e){return Ot.isPath(e)||St.isPoint(e)||Rt.isRange(e)}},Fe={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(Ot.isPath)}};function Ee(e){for(var t=arguments.length,u=Array(t>1?t-1:0),r=1;r<t;r++)u[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(u.length?" "+u.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ge(e){return!!e&&!!e[at]}function ye(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var u=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return u===Object||"function"==typeof u&&Function.toString.call(u)===st}(e)||Array.isArray(e)||!!e[it]||!!e.constructor[it]||Oe(e)||Pe(e))}function me(e,t,u){void 0===u&&(u=!1),0===be(e)?(u?Object.keys:ct)(e).forEach((function(r){u&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(u,r){return t(r,u,e)}))}function be(e){var t=e[at];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Oe(e)?2:Pe(e)?3:0}function we(e,t){return 2===be(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xe(e,t,u){var r=be(e);2===r?e.set(t,u):3===r?(e.delete(t),e.add(u)):e[t]=u}function Oe(e){return ut&&e instanceof Map}function Pe(e){return rt&&e instanceof Set}function ke(e){return e.o||e.t}function je(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ft(e);delete t[at];for(var u=ct(t),r=0;r<u.length;r++){var n=u[r],o=t[n];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[n]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[n]})}return Object.create(Object.getPrototypeOf(e),t)}function Se(e,t){return void 0===t&&(t=!1),Ne(e)||ge(e)||!ye(e)||(be(e)>1&&(e.set=e.add=e.clear=e.delete=_e),Object.freeze(e),t&&me(e,(function(e,t){return Se(t,!0)}),!0)),e}function _e(){Ee(2)}function Ne(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Te(e){var t=lt[e];return t||Ee(18,e),t}function Re(){return et}function Ie(e,t){t&&(Te("Patches"),e.u=[],e.s=[],e.v=t)}function Le(e){Me(e),e.p.forEach(Ve),e.p=null}function Me(e){e===et&&(et=e.l)}function qe(e){return et={p:[],l:et,h:e,m:!0,_:0}}function Ve(e){var t=e[at];0===t.i||1===t.i?t.j():t.O=!0}function ze(e,t){t._=t.p.length;var u=t.p[0],r=void 0!==e&&e!==u;return t.h.g||Te("ES5").S(t,e,r),r?(u[at].P&&(Le(t),Ee(4)),ye(e)&&(e=We(t,e),t.l||Ue(t,e)),t.u&&Te("Patches").M(u[at],e,t.u,t.s)):e=We(t,u,[]),Le(t),t.u&&t.v(t.u,t.s),e!==ot?e:void 0}function We(e,t,u){if(Ne(t))return t;var r=t[at];if(!r)return me(t,(function(n,o){return $e(e,r,t,n,o,u)}),!0),t;if(r.A!==e)return t;if(!r.P)return Ue(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var n=4===r.i||5===r.i?r.o=je(r.k):r.o;me(3===r.i?new Set(n):n,(function(t,o){return $e(e,r,n,t,o,u)})),Ue(e,n,!1),u&&e.u&&Te("Patches").R(r,u,e.u,e.s)}return r.o}function $e(e,t,u,r,n,o){if(ge(n)){var i=We(e,n,o&&t&&3!==t.i&&!we(t.D,r)?o.concat(r):void 0);if(xe(u,r,i),!ge(i))return;e.m=!1}if(ye(n)&&!Ne(n)){if(!e.h.F&&e._<1)return;We(e,n),t&&t.A.l||Ue(e,n)}}function Ue(e,t,u){void 0===u&&(u=!1),e.h.F&&e.m&&Se(t,u)}function Ge(e,t){var u=e[at];return(u?ke(u):e)[t]}function Je(e,t){if(t in e)for(var u=Object.getPrototypeOf(e);u;){var r=Object.getOwnPropertyDescriptor(u,t);if(r)return r;u=Object.getPrototypeOf(u)}}function Ke(e){e.P||(e.P=!0,e.l&&Ke(e.l))}function Ze(e){e.o||(e.o=je(e.t))}function Ye(e,t,u){var r=Oe(t)?Te("MapSet").N(t,u):Pe(t)?Te("MapSet").T(t,u):e.g?function(e,t){var u=Array.isArray(e),r={i:u?1:0,A:t?t.A:Re(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},n=r,o=Dt;u&&(n=[r],o=Ct);var i=Proxy.revocable(n,o),a=i.revoke,s=i.proxy;return r.k=s,r.j=a,s}(t,u):Te("ES5").J(t,u);return(u?u.A:Re()).p.push(r),r}function Xe(e){return ge(e)||Ee(22,e),function e(t){if(!ye(t))return t;var u,r=t[at],n=be(t);if(r){if(!r.P&&(r.i<4||!Te("ES5").K(r)))return r.t;r.I=!0,u=He(t,n),r.I=!1}else u=He(t,n);return me(u,(function(t,n){r&&function(e,t){return 2===be(e)?e.get(t):e[t]}(r.t,t)===n||xe(u,t,e(n))})),3===n?new Set(u):u}(e)}function He(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return je(e)}var Qe,et,tt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ut="undefined"!=typeof Map,rt="undefined"!=typeof Set,nt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ot=tt?Symbol.for("immer-nothing"):((Qe={})["immer-nothing"]=!0,Qe),it=tt?Symbol.for("immer-draftable"):"__$immer_draftable",at=tt?Symbol.for("immer-state"):"__$immer_state",st=""+Object.prototype.constructor,ct="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ft=Object.getOwnPropertyDescriptors||function(e){var t={};return ct(e).forEach((function(u){t[u]=Object.getOwnPropertyDescriptor(e,u)})),t},lt={},Dt={get:function(e,t){if(t===at)return e;var u=ke(e);if(!we(u,t))return function(e,t,u){var r,n=Je(t,u);return n?"value"in n?n.value:null===(r=n.get)||void 0===r?void 0:r.call(e.k):void 0}(e,u,t);var r=u[t];return e.I||!ye(r)?r:r===Ge(e.t,t)?(Ze(e),e.o[t]=Ye(e.A.h,r,e)):r},has:function(e,t){return t in ke(e)},ownKeys:function(e){return Reflect.ownKeys(ke(e))},set:function(e,t,u){var r=Je(ke(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,u),!0;if(!e.P){var n=Ge(ke(e),t),o=null==n?void 0:n[at];if(o&&o.t===u)return e.o[t]=u,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(u,n)&&(void 0!==u||we(e.t,t)))return!0;Ze(e),Ke(e)}return e.o[t]===u&&"number"!=typeof u&&(void 0!==u||t in e.o)||(e.o[t]=u,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Ge(e.t,t)||t in e.t?(e.D[t]=!1,Ze(e),Ke(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var u=ke(e),r=Reflect.getOwnPropertyDescriptor(u,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:u[t]}:r},defineProperty:function(){Ee(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ee(12)}},Ct={};me(Dt,(function(e,t){Ct[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ct.deleteProperty=function(e,t){return Dt.deleteProperty.call(this,e[0],t)},Ct.set=function(e,t,u){return Dt.set.call(this,e[0],t,u,e[0])};var dt=function(){function e(e){var t=this;this.g=nt,this.F=!0,this.produce=function(e,u,r){if("function"==typeof e&&"function"!=typeof u){var n=u;u=e;var o=t;return function(e){var t=this;void 0===e&&(e=n);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=u).call.apply(r,[t,e].concat(i))}))}}var i;if("function"!=typeof u&&Ee(6),void 0!==r&&"function"!=typeof r&&Ee(7),ye(e)){var a=qe(t),s=Ye(t,e,void 0),c=!0;try{i=u(s),c=!1}finally{c?Le(a):Me(a)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return Ie(a,r),ze(e,a)}),(function(e){throw Le(a),e})):(Ie(a,r),ze(i,a))}if(!e||"object"!=typeof e){if((i=u(e))===ot)return;return void 0===i&&(i=e),t.F&&Se(i,!0),i}Ee(21,e)},this.produceWithPatches=function(e,u){return"function"==typeof e?function(u){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return t.produceWithPatches(u,(function(t){return e.apply(void 0,[t].concat(n))}))}:[t.produce(e,u,(function(e,t){r=e,n=t})),r,n];var r,n},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ye(e)||Ee(8),ge(e)&&(e=Xe(e));var t=qe(this),u=Ye(this,e,void 0);return u[at].C=!0,Me(t),u},t.finishDraft=function(e,t){var u=(e&&e[at]).A;return Ie(u,t),ze(void 0,u)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!nt&&Ee(20),this.g=e},t.applyPatches=function(e,t){var u;for(u=t.length-1;u>=0;u--){var r=t[u];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var n=Te("Patches").$;return ge(e)?n(e,t):this.produce(e,(function(e){return n(e,t.slice(u+1))}))},e}(),ht=new dt,vt=ht.produce;ht.produceWithPatches.bind(ht),ht.setAutoFreeze.bind(ht),ht.setUseProxies.bind(ht),ht.applyPatches.bind(ht);var pt=ht.createDraft.bind(ht),Bt=ht.finishDraft.bind(ht),At=["children"],Ft=["text"];function Et(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return gt(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}var yt=new WeakMap,mt={ancestor:function(e,t){var u=mt.get(e,t);if(Jt.isText(u))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Mt.stringify(u)));return u},ancestors:k.mark((function e(t,u){var r,n,o,i,a,s,c=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.length>2&&void 0!==c[2]?c[2]:{},n=Et(Ot.ancestors(u,r)),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=12;break}return i=o.value,a=mt.ancestor(t,i),s=[a,i],e.next=10,s;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),child:function(e,t){if(Jt.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Mt.stringify(e)));var u=e.children[t];if(null==u)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Mt.stringify(e)));return u},children:k.mark((function(e,t){var u,r,n,o,i,a,s,c,f=arguments;return k.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:u=f.length>2&&void 0!==f[2]?f[2]:{},r=u.reverse,n=void 0!==r&&r,o=mt.ancestor(e,t),i=o.children,a=n?i.length-1:0;case 5:if(!(n?a>=0:a<i.length)){l.next=13;break}return s=mt.child(o,a),c=t.concat(a),l.next=10,[s,c];case 10:a=n?a-1:a+1,l.next=5;break;case 13:case"end":return l.stop()}}),i)})),common:function(e,t,u){var r=Ot.common(t,u);return[mt.get(e,r),r]},descendant:function(e,t){var u=mt.get(e,t);if(Be.isEditor(u))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Mt.stringify(u)));return u},descendants:k.mark((function e(t){var u,r,n,o,i,a,s=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=s.length>1&&void 0!==s[1]?s[1]:{},r=Et(mt.nodes(t,u)),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=11;break}if(o=d(n.value,2),i=o[0],0===(a=o[1]).length){e.next=9;break}return e.next=9,[i,a];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),elements:k.mark((function e(t){var u,r,n,o,i,a,s=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=s.length>1&&void 0!==s[1]?s[1]:{},r=Et(mt.nodes(t,u)),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=11;break}if(o=d(n.value,2),i=o[0],a=o[1],!fe.isElement(i)){e.next=9;break}return e.next=9,[i,a];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),extractProps:function(e){return fe.isAncestor(e)?(e.children,O(e,At)):(e.text,O(e,Ft))},first:function(e,t){for(var u=t.slice(),r=mt.get(e,u);r&&!Jt.isText(r)&&0!==r.children.length;)r=r.children[0],u.push(0);return[r,u]},fragment:function(e,t){if(Jt.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Mt.stringify(e)));var u=vt({children:e.children},(function(e){var u,r=Rt.edges(t),n=d(r,2),o=n[0],i=n[1],a=mt.nodes(e,{reverse:!0,pass:function(e){var u=d(e,2)[1];return!Rt.includes(t,u)}}),s=Et(a);try{for(s.s();!(u=s.n()).done;){var c=d(u.value,2)[1];if(!Rt.includes(t,c)){var f=mt.parent(e,c),l=c[c.length-1];f.children.splice(l,1)}if(Ot.equals(c,i.path)){var D=mt.leaf(e,c);D.text=D.text.slice(0,i.offset)}if(Ot.equals(c,o.path)){var C=mt.leaf(e,c);C.text=C.text.slice(o.offset)}}}catch(e){s.e(e)}finally{s.f()}Be.isEditor(e)&&(e.selection=null)}));return u.children},get:function(e,t){for(var u=e,r=0;r<t.length;r++){var n=t[r];if(Jt.isText(u)||!u.children[n])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Mt.stringify(e)));u=u.children[n]}return u},has:function(e,t){for(var u=e,r=0;r<t.length;r++){var n=t[r];if(Jt.isText(u)||!u.children[n])return!1;u=u.children[n]}return!0},isNode:function(e){return Jt.isText(e)||fe.isElement(e)||Be.isEditor(e)},isNodeList:function(e){if(!Array.isArray(e))return!1;var t=yt.get(e);if(void 0!==t)return t;var u=e.every((function(e){return mt.isNode(e)}));return yt.set(e,u),u},last:function(e,t){for(var u=t.slice(),r=mt.get(e,u);r&&!Jt.isText(r)&&0!==r.children.length;){var n=r.children.length-1;r=r.children[n],u.push(n)}return[r,u]},leaf:function(e,t){var u=mt.get(e,t);if(!Jt.isText(u))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Mt.stringify(u)));return u},levels:k.mark((function e(t,u){var r,n,o,i,a,s=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>2&&void 0!==s[2]?s[2]:{},n=Et(Ot.levels(u,r)),e.prev=2,n.s();case 4:if((o=n.n()).done){e.next=11;break}return i=o.value,a=mt.get(t,i),e.next=9,[a,i];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),matches:function(e,t){return fe.isElement(e)&&fe.isElementProps(t)&&fe.matches(e,t)||Jt.isText(e)&&Jt.isTextProps(t)&&Jt.matches(e,t)},nodes:k.mark((function e(t){var u,r,n,o,i,a,s,c,f,l,D,C,d,h=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=h.length>1&&void 0!==h[1]?h[1]:{},r=u.pass,n=u.reverse,o=void 0!==n&&n,i=u.from,a=void 0===i?[]:i,s=u.to,c=new Set,f=[],l=t;case 6:if(!s||!(o?Ot.isBefore(f,s):Ot.isAfter(f,s))){e.next=9;break}return e.abrupt("break",37);case 9:if(c.has(l)){e.next=12;break}return e.next=12,[l,f];case 12:if(c.has(l)||Jt.isText(l)||0===l.children.length||null!=r&&!1!==r([l,f])){e.next=19;break}return c.add(l),D=o?l.children.length-1:0,Ot.isAncestor(f,a)&&(D=a[f.length]),f=f.concat(D),l=mt.get(t,f),e.abrupt("continue",6);case 19:if(0!==f.length){e.next=21;break}return e.abrupt("break",37);case 21:if(o){e.next=27;break}if(C=Ot.next(f),!mt.has(t,C)){e.next=27;break}return f=C,l=mt.get(t,f),e.abrupt("continue",6);case 27:if(!o||0===f[f.length-1]){e.next=32;break}return d=Ot.previous(f),f=d,l=mt.get(t,f),e.abrupt("continue",6);case 32:f=Ot.parent(f),l=mt.get(t,f),c.add(l),e.next=6;break;case 37:case"end":return e.stop()}}),e)})),parent:function(e,t){var u=Ot.parent(t),r=mt.get(e,u);if(Jt.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:function(e){return Jt.isText(e)?e.text:e.children.map(mt.string).join("")},texts:k.mark((function e(t){var u,r,n,o,i,a,s=arguments;return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=s.length>1&&void 0!==s[1]?s[1]:{},r=Et(mt.nodes(t,u)),e.prev=2,r.s();case 4:if((n=r.n()).done){e.next=11;break}if(o=d(n.value,2),i=o[0],a=o[1],!Jt.isText(i)){e.next=9;break}return e.next=9,[i,a];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))};function bt(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function wt(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):bt(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}var xt={isNodeOperation:function(e){return xt.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!S(e))return!1;switch(e.type){case"insert_node":case"remove_node":return Ot.isPath(e.path)&&mt.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Ot.isPath(e.path);case"merge_node":return"number"==typeof e.position&&Ot.isPath(e.path)&&S(e.properties);case"move_node":return Ot.isPath(e.path)&&Ot.isPath(e.newPath);case"set_node":return Ot.isPath(e.path)&&S(e.properties)&&S(e.newProperties);case"set_selection":return null===e.properties&&Rt.isRange(e.newProperties)||null===e.newProperties&&Rt.isRange(e.properties)||S(e.properties)&&S(e.newProperties);case"split_node":return Ot.isPath(e.path)&&"number"==typeof e.position&&S(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&e.every((function(e){return xt.isOperation(e)}))},isSelectionOperation:function(e){return xt.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return xt.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return wt(wt({},e),{},{type:"remove_node"});case"insert_text":return wt(wt({},e),{},{type:"remove_text"});case"merge_node":return wt(wt({},e),{},{type:"split_node",path:Ot.previous(e.path)});case"move_node":var t=e.newPath,u=e.path;if(Ot.equals(t,u))return e;if(Ot.isSibling(u,t))return wt(wt({},e),{},{path:t,newPath:u});var r=Ot.transform(u,e),n=Ot.transform(Ot.next(u),e);return wt(wt({},e),{},{path:r,newPath:n});case"remove_node":return wt(wt({},e),{},{type:"insert_node"});case"remove_text":return wt(wt({},e),{},{type:"insert_text"});case"set_node":var o=e.properties,i=e.newProperties;return wt(wt({},e),{},{properties:i,newProperties:o});case"set_selection":var a=e.properties,s=e.newProperties;return wt(wt({},e),{},null==a?{properties:s,newProperties:null}:null==s?{properties:null,newProperties:a}:{properties:s,newProperties:a});case"split_node":return wt(wt({},e),{},{type:"merge_node",path:Ot.next(e.path)})}}},Ot={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.reverse,r=void 0!==u&&u,n=Ot.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common:function(e,t){for(var u=[],r=0;r<e.length&&r<t.length;r++){var n=e[r];if(n!==t[r])break;u.push(n)}return u},compare:function(e,t){for(var u=Math.min(e.length,t.length),r=0;r<u;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter:function(e,t){var u=e.length-1,r=e.slice(0,u),n=t.slice(0,u),o=e[u],i=t[u];return Ot.equals(r,n)&&o>i},endsAt:function(e,t){var u=e.length,r=e.slice(0,u),n=t.slice(0,u);return Ot.equals(r,n)},endsBefore:function(e,t){var u=e.length-1,r=e.slice(0,u),n=t.slice(0,u),o=e[u],i=t[u];return Ot.equals(r,n)&&o<i},equals:function(e,t){return e.length===t.length&&e.every((function(e,u){return e===t[u]}))},hasPrevious:function(e){return e[e.length-1]>0},isAfter:function(e,t){return 1===Ot.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===Ot.compare(e,t)},isBefore:function(e,t){return-1===Ot.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===Ot.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===Ot.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===Ot.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===Ot.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var u=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&Ot.equals(u,r)},levels:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.reverse,r=void 0!==u&&u,n=[],o=0;o<=e.length;o++)n.push(e.slice(0,o));return r&&n.reverse(),n},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath:function(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!Ot.isAncestor(t,e)&&!Ot.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=s(e),n=u.affinity,o=void 0===n?"forward":n;if(0===e.length)return r;switch(t.type){case"insert_node":var i=t.path;(Ot.equals(i,r)||Ot.endsBefore(i,r)||Ot.isAncestor(i,r))&&(r[i.length-1]+=1);break;case"remove_node":var a=t.path;if(Ot.equals(a,r)||Ot.isAncestor(a,r))return null;Ot.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var c=t.path,f=t.position;Ot.equals(c,r)||Ot.endsBefore(c,r)?r[c.length-1]-=1:Ot.isAncestor(c,r)&&(r[c.length-1]-=1,r[c.length]+=f);break;case"split_node":var l=t.path,D=t.position;if(Ot.equals(l,r)){if("forward"===o)r[r.length-1]+=1;else if("backward"!==o)return null}else Ot.endsBefore(l,r)?r[l.length-1]+=1:Ot.isAncestor(l,r)&&e[l.length]>=D&&(r[l.length-1]+=1,r[l.length]-=D);break;case"move_node":var C=t.path,d=t.newPath;if(Ot.equals(C,d))return r;if(Ot.isAncestor(C,r)||Ot.equals(C,r)){var h=d.slice();return Ot.endsBefore(C,d)&&C.length<d.length&&(h[C.length-1]-=1),h.concat(r.slice(C.length))}Ot.isSibling(C,d)&&(Ot.isAncestor(d,r)||Ot.equals(d,r))?Ot.endsBefore(C,r)?r[C.length-1]-=1:r[C.length-1]+=1:Ot.endsBefore(d,r)||Ot.equals(d,r)||Ot.isAncestor(d,r)?(Ot.endsBefore(C,r)&&(r[C.length-1]-=1),r[d.length-1]+=1):Ot.endsBefore(C,r)&&(Ot.equals(d,r)&&(r[d.length-1]+=1),r[C.length-1]-=1)}return r}},Pt={transform:function(e,t){var u=e.current,r=e.affinity;if(null!=u){var n=Ot.transform(u,t,{affinity:r});e.current=n,null==n&&e.unref()}}};function kt(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function jt(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):kt(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}var St={compare:function(e,t){var u=Ot.compare(e.path,t.path);return 0===u?e.offset<t.offset?-1:e.offset>t.offset?1:0:u},isAfter:function(e,t){return 1===St.compare(e,t)},isBefore:function(e,t){return-1===St.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&Ot.equals(e.path,t.path)},isPoint:function(e){return S(e)&&"number"==typeof e.offset&&Ot.isPath(e.path)},transform:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return vt(e,(function(e){if(null===e)return null;var r=u.affinity,n=void 0===r?"forward":r,o=e.path,i=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=Ot.transform(o,t,u);break;case"insert_text":Ot.equals(t.path,o)&&(t.offset<i||t.offset===i&&"forward"===n)&&(e.offset+=t.text.length);break;case"merge_node":Ot.equals(t.path,o)&&(e.offset+=t.position),e.path=Ot.transform(o,t,u);break;case"remove_text":Ot.equals(t.path,o)&&t.offset<=i&&(e.offset-=Math.min(i-t.offset,t.text.length));break;case"remove_node":if(Ot.equals(t.path,o)||Ot.isAncestor(t.path,o))return null;e.path=Ot.transform(o,t,u);break;case"split_node":if(Ot.equals(t.path,o)){if(t.position===i&&null==n)return null;(t.position<i||t.position===i&&"forward"===n)&&(e.offset-=t.position,e.path=Ot.transform(o,t,jt(jt({},u),{},{affinity:"forward"})))}else e.path=Ot.transform(o,t,u)}}))}},_t={transform:function(e,t){var u=e.current,r=e.affinity;if(null!=u){var n=St.transform(u,t,{affinity:r});e.current=n,null==n&&e.unref()}}},Nt=["anchor","focus"];function Tt(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}var Rt={edges:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.reverse,r=void 0!==u&&u,n=e.anchor,o=e.focus;return Rt.isBackward(e)===r?[n,o]:[o,n]},end:function(e){var t=Rt.edges(e),u=d(t,2)[1];return u},equals:function(e,t){return St.equals(e.anchor,t.anchor)&&St.equals(e.focus,t.focus)},includes:function(e,t){if(Rt.isRange(t)){if(Rt.includes(e,t.anchor)||Rt.includes(e,t.focus))return!0;var u=Rt.edges(e),r=d(u,2),n=r[0],o=r[1],i=Rt.edges(t),a=d(i,2),s=a[0],c=a[1];return St.isBefore(n,s)&&St.isAfter(o,c)}var f=Rt.edges(e),l=d(f,2),D=l[0],C=l[1],h=!1,v=!1;return St.isPoint(t)?(h=St.compare(t,D)>=0,v=St.compare(t,C)<=0):(h=Ot.compare(t,D.path)>=0,v=Ot.compare(t,C.path)<=0),h&&v},intersection:function(e,t){e.anchor,e.focus;var u=O(e,Nt),r=Rt.edges(e),n=d(r,2),o=n[0],i=n[1],a=Rt.edges(t),s=d(a,2),f=s[0],l=s[1],D=St.isBefore(o,f)?f:o,C=St.isBefore(i,l)?i:l;return St.isBefore(C,D)?null:function(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):Tt(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}({anchor:D,focus:C},u)},isBackward:function(e){var t=e.anchor,u=e.focus;return St.isAfter(t,u)},isCollapsed:function(e){var t=e.anchor,u=e.focus;return St.equals(t,u)},isExpanded:function(e){return!Rt.isCollapsed(e)},isForward:function(e){return!Rt.isBackward(e)},isRange:function(e){return S(e)&&St.isPoint(e.anchor)&&St.isPoint(e.focus)},points:k.mark((function e(t){return k.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[t.anchor,"anchor"];case 2:return e.next=4,[t.focus,"focus"];case 4:case"end":return e.stop()}}),e)})),start:function(e){var t=Rt.edges(e),u=d(t,1)[0];return u},transform:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return vt(e,(function(e){if(null===e)return null;var r,n,o=u.affinity,i=void 0===o?"inward":o;if("inward"===i){var a=Rt.isCollapsed(e);Rt.isForward(e)?(r="forward",n=a?r:"backward"):(r="backward",n=a?r:"forward")}else"outward"===i?Rt.isForward(e)?(r="backward",n="forward"):(r="forward",n="backward"):(r=i,n=i);var s=St.transform(e.anchor,t,{affinity:r}),c=St.transform(e.focus,t,{affinity:n});if(!s||!c)return null;e.anchor=s,e.focus=c}))}},It={transform:function(e,t){var u=e.current,r=e.affinity;if(null!=u){var n=Rt.transform(u,t,{affinity:r});e.current=n,null==n&&e.unref()}}},Lt=void 0,Mt={setScrubber:function(e){Lt=e},stringify:function(e){return JSON.stringify(e,Lt)}},qt=function e(t,u){for(var r in t){var n=t[r],o=u[r];if(S(n)&&S(o)){if(!e(n,o))return!1}else if(Array.isArray(n)&&Array.isArray(o)){if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==o[i])return!1}else if(n!==o)return!1}for(var a in u)if(void 0===t[a]&&void 0!==u[a])return!1;return!0},Vt=["text"],zt=["anchor","focus"];function Wt(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return $t(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}function Ut(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function Gt(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):Ut(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}var Jt={equals:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u.loose,n=void 0!==r&&r;function o(e){return e.text,O(e,Vt)}return qt(n?o(e):e,n?o(t):t)},isText:function(e){return S(e)&&"string"==typeof e.text},isTextList:function(e){return Array.isArray(e)&&e.every((function(e){return Jt.isText(e)}))},isTextProps:function(e){return void 0!==e.text},matches:function(e,t){for(var u in t)if("text"!==u&&(!e.hasOwnProperty(u)||e[u]!==t[u]))return!1;return!0},decorations:function(e,t){var u,r=[Gt({},e)],n=Wt(t);try{for(n.s();!(u=n.n()).done;){var o,i=u.value,a=(i.anchor,i.focus,O(i,zt)),s=Rt.edges(i),c=d(s,2),f=c[0],l=c[1],D=[],C=0,h=f.offset,v=l.offset,p=Wt(r);try{for(p.s();!(o=p.n()).done;){var B=o.value,A=B.text.length,F=C;if(C+=A,h<=F&&C<=v)Object.assign(B,a),D.push(B);else if(h!==v&&(h===C||v===F)||h>C||v<F||v===F&&0!==F)D.push(B);else{var E=B,g=void 0,y=void 0;if(v<C){var m=v-F;y=Gt(Gt({},E),{},{text:E.text.slice(m)}),E=Gt(Gt({},E),{},{text:E.text.slice(0,m)})}if(h>F){var b=h-F;g=Gt(Gt({},E),{},{text:E.text.slice(0,b)}),E=Gt(Gt({},E),{},{text:E.text.slice(b)})}Object.assign(E,a),g&&D.push(g),D.push(E),y&&D.push(y)}}}catch(e){p.e(e)}finally{p.f()}r=D}}catch(e){n.e(e)}finally{n.f()}return r}};function Kt(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function Zt(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):Kt(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function Yt(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Xt(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}var Ht={transform:function(e,t){e.children=pt(e.children);var u=e.selection&&pt(e.selection);try{u=function(e,t,u){switch(u.type){case"insert_node":var r=u.path,n=u.node,o=mt.parent(e,r),i=r[r.length-1];if(i>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(o.children.splice(i,0,n),t){var a,c=Yt(Rt.points(t));try{for(c.s();!(a=c.n()).done;){var f=d(a.value,2),l=f[0];t[f[1]]=St.transform(l,u)}}catch(e){c.e(e)}finally{c.f()}}break;case"insert_text":var D=u.path,C=u.offset,h=u.text;if(0===h.length)break;var v=mt.leaf(e,D),p=v.text.slice(0,C),B=v.text.slice(C);if(v.text=p+h+B,t){var A,F=Yt(Rt.points(t));try{for(F.s();!(A=F.n()).done;){var E=d(A.value,2),g=E[0];t[E[1]]=St.transform(g,u)}}catch(e){F.e(e)}finally{F.f()}}break;case"merge_node":var y=u.path,m=mt.get(e,y),b=Ot.previous(y),w=mt.get(e,b),x=mt.parent(e,y),O=y[y.length-1];if(Jt.isText(m)&&Jt.isText(w))w.text+=m.text;else{if(Jt.isText(m)||Jt.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(Mt.stringify(m)," ").concat(Mt.stringify(w)));var P;(P=w.children).push.apply(P,s(m.children))}if(x.children.splice(O,1),t){var k,j=Yt(Rt.points(t));try{for(j.s();!(k=j.n()).done;){var S=d(k.value,2),_=S[0];t[S[1]]=St.transform(_,u)}}catch(e){j.e(e)}finally{j.f()}}break;case"move_node":var N=u.path,T=u.newPath;if(Ot.isAncestor(N,T))throw new Error("Cannot move a path [".concat(N,"] to new path [").concat(T,"] because the destination is inside itself."));var R=mt.get(e,N),I=mt.parent(e,N),L=N[N.length-1];I.children.splice(L,1);var M=Ot.transform(N,u),q=mt.get(e,Ot.parent(M)),V=M[M.length-1];if(q.children.splice(V,0,R),t){var z,W=Yt(Rt.points(t));try{for(W.s();!(z=W.n()).done;){var $=d(z.value,2),U=$[0];t[$[1]]=St.transform(U,u)}}catch(e){W.e(e)}finally{W.f()}}break;case"remove_node":var G=u.path,J=G[G.length-1];if(mt.parent(e,G).children.splice(J,1),t){var K,Z=Yt(Rt.points(t));try{for(Z.s();!(K=Z.n()).done;){var Y=d(K.value,2),X=Y[0],H=Y[1],Q=St.transform(X,u);if(null!=t&&null!=Q)t[H]=Q;else{var ee,te=void 0,ue=void 0,re=Yt(mt.texts(e));try{for(re.s();!(ee=re.n()).done;){var ne=d(ee.value,2),oe=ne[0],ie=ne[1];if(-1!==Ot.compare(ie,G)){ue=[oe,ie];break}te=[oe,ie]}}catch(e){re.e(e)}finally{re.f()}var ae=!1;te&&ue&&(ae=Ot.equals(ue[1],G)?!Ot.hasPrevious(ue[1]):Ot.common(te[1],G).length<Ot.common(ue[1],G).length),te&&!ae?(X.path=te[1],X.offset=te[0].text.length):ue?(X.path=ue[1],X.offset=0):t=null}}}catch(e){Z.e(e)}finally{Z.f()}}break;case"remove_text":var se=u.path,ce=u.offset,fe=u.text;if(0===fe.length)break;var le=mt.leaf(e,se),De=le.text.slice(0,ce),Ce=le.text.slice(ce+fe.length);if(le.text=De+Ce,t){var de,he=Yt(Rt.points(t));try{for(he.s();!(de=he.n()).done;){var ve=d(de.value,2),pe=ve[0];t[ve[1]]=St.transform(pe,u)}}catch(e){he.e(e)}finally{he.f()}}break;case"set_node":var Be=u.path,Ae=u.properties,Fe=u.newProperties;if(0===Be.length)throw new Error("Cannot set properties on the root node!");var Ee=mt.get(e,Be);for(var ge in Fe){if("children"===ge||"text"===ge)throw new Error('Cannot set the "'.concat(ge,'" property of nodes!'));var ye=Fe[ge];null==ye?delete Ee[ge]:Ee[ge]=ye}for(var me in Ae)Fe.hasOwnProperty(me)||delete Ee[me];break;case"set_selection":var be=u.newProperties;if(null==be)t=be;else{if(null==t){if(!Rt.isRange(be))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Mt.stringify(be)," when there is no current selection."));t=Zt({},be)}for(var we in be){var xe=be[we];if(null==xe){if("anchor"===we||"focus"===we)throw new Error('Cannot remove the "'.concat(we,'" selection property'));delete t[we]}else t[we]=xe}}break;case"split_node":var Oe=u.path,Pe=u.position,ke=u.properties;if(0===Oe.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Oe,"] because the root node cannot be split."));var je,Se=mt.get(e,Oe),_e=mt.parent(e,Oe),Ne=Oe[Oe.length-1];if(Jt.isText(Se)){var Te=Se.text.slice(0,Pe),Re=Se.text.slice(Pe);Se.text=Te,je=Zt(Zt({},ke),{},{text:Re})}else{var Ie=Se.children.slice(0,Pe),Le=Se.children.slice(Pe);Se.children=Ie,je=Zt(Zt({},ke),{},{children:Le})}if(_e.children.splice(Ne+1,0,je),t){var Me,qe=Yt(Rt.points(t));try{for(qe.s();!(Me=qe.n()).done;){var Ve=d(Me.value,2),ze=Ve[0];t[Ve[1]]=St.transform(ze,u)}}catch(e){qe.e(e)}finally{qe.f()}}}return t}(e,u,t)}finally{e.children=Bt(e.children),e.selection=u?ge(u)?Bt(u):u:null}}},Qt=["text"],eu=["children"];function tu(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function uu(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):tu(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}function ru(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return nu(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return nu(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}var ou={insertNodes:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Be.withoutNormalizing(e,(function(){var r=u.hanging,n=void 0!==r&&r,o=u.voids,i=void 0!==o&&o,a=u.mode,s=void 0===a?"lowest":a,c=u.at,f=u.match,l=u.select;if(mt.isNode(t)&&(t=[t]),0!==t.length){var D=d(t,1)[0];if(c||(c=e.selection?e.selection:e.children.length>0?Be.end(e,[]):[0],l=!0),null==l&&(l=!1),Rt.isRange(c))if(n||(c=Be.unhangRange(e,c,{voids:i})),Rt.isCollapsed(c))c=c.anchor;else{var C=Rt.edges(c),h=d(C,2)[1],v=Be.pointRef(e,h);pu.delete(e,{at:c}),c=v.unref()}if(St.isPoint(c)){null==f&&(f=Jt.isText(D)?function(e){return Jt.isText(e)}:e.isInline(D)?function(t){return Jt.isText(t)||Be.isInline(e,t)}:function(t){return fe.isElement(t)&&Be.isBlock(e,t)});var p=Be.nodes(e,{at:c.path,match:f,mode:s,voids:i}),B=d(p,1)[0];if(!B)return;var A=d(B,2)[1],F=Be.pathRef(e,A),E=Be.isEnd(e,c,A);pu.splitNodes(e,{at:c,match:f,mode:s,voids:i});var g=F.unref();c=E?Ot.next(g):g}var y=Ot.parent(c),m=c[c.length-1];if(i||!Be.void(e,{at:y})){var b,w=ru(t);try{for(w.s();!(b=w.n()).done;){var x=b.value,O=y.concat(m);m++,e.apply({type:"insert_node",path:O,node:x}),c=Ot.next(c)}}catch(e){w.e(e)}finally{w.f()}if(c=Ot.previous(c),l){var P=Be.end(e,c);P&&pu.select(e,P)}}}}))},liftNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be.withoutNormalizing(e,(function(){var u=t.at,r=void 0===u?e.selection:u,n=t.mode,o=void 0===n?"lowest":n,i=t.voids,a=void 0!==i&&i,s=t.match;if(null==s&&(s=Ot.isPath(r)?su(e,r):function(t){return fe.isElement(t)&&Be.isBlock(e,t)}),r)for(var c=Be.nodes(e,{at:r,match:s,mode:o,voids:a}),f=Array.from(c,(function(t){var u=d(t,2)[1];return Be.pathRef(e,u)})),l=0,D=f;l<D.length;l++){var C=D[l].unref();if(C.length<2)throw new Error("Cannot lift node at a path [".concat(C,"] because it has a depth of less than `2`."));var h=Be.node(e,Ot.parent(C)),v=d(h,2),p=v[0],B=v[1],A=C[C.length-1],F=p.children.length;if(1===F){var E=Ot.next(B);pu.moveNodes(e,{at:C,to:E,voids:a}),pu.removeNodes(e,{at:B,voids:a})}else if(0===A)pu.moveNodes(e,{at:C,to:B,voids:a});else if(A===F-1){var g=Ot.next(B);pu.moveNodes(e,{at:C,to:g,voids:a})}else{var y=Ot.next(C),m=Ot.next(B);pu.splitNodes(e,{at:y,voids:a}),pu.moveNodes(e,{at:C,to:m,voids:a})}}}))},mergeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be.withoutNormalizing(e,(function(){var u=t.match,r=t.at,n=void 0===r?e.selection:r,o=t.hanging,i=void 0!==o&&o,a=t.voids,s=void 0!==a&&a,c=t.mode,f=void 0===c?"lowest":c;if(n){if(null==u)if(Ot.isPath(n)){var l=Be.parent(e,n),D=d(l,1)[0];u=function(e){return D.children.includes(e)}}else u=function(t){return fe.isElement(t)&&Be.isBlock(e,t)};if(!i&&Rt.isRange(n)&&(n=Be.unhangRange(e,n,{voids:s})),Rt.isRange(n))if(Rt.isCollapsed(n))n=n.anchor;else{var C=Rt.edges(n),h=d(C,2)[1],v=Be.pointRef(e,h);pu.delete(e,{at:n}),n=v.unref(),null==t.at&&pu.select(e,n)}var p=Be.nodes(e,{at:n,match:u,voids:s,mode:f}),B=d(p,1)[0],A=Be.previous(e,{at:n,match:u,voids:s,mode:f});if(B&&A){var F=d(B,2),E=F[0],g=F[1],y=d(A,2),m=y[0],b=y[1];if(0!==g.length&&0!==b.length){var w,x,P=Ot.next(b),k=Ot.common(g,b),j=Ot.isSibling(g,b),S=Array.from(Be.levels(e,{at:g}),(function(e){return d(e,1)[0]})).slice(k.length).slice(0,-1),_=Be.above(e,{at:g,mode:"highest",match:function(t){return S.includes(t)&&iu(e,t)}}),N=_&&Be.pathRef(e,_[1]);if(Jt.isText(E)&&Jt.isText(m)){E.text;var T=O(E,Qt);x=m.text.length,w=T}else{if(!fe.isElement(E)||!fe.isElement(m))throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(Mt.stringify(E)," ").concat(Mt.stringify(m)));E.children;var R=O(E,eu);x=m.children.length,w=R}j||pu.moveNodes(e,{at:g,to:P,voids:s}),N&&pu.removeNodes(e,{at:N.current,voids:s}),fe.isElement(m)&&Be.isEmpty(e,m)||Jt.isText(m)&&""===m.text&&0!==b[b.length-1]?pu.removeNodes(e,{at:b,voids:s}):e.apply({type:"merge_node",path:P,position:x,properties:w}),N&&N.unref()}}}}))},moveNodes:function(e,t){Be.withoutNormalizing(e,(function(){var u=t.to,r=t.at,n=void 0===r?e.selection:r,o=t.mode,i=void 0===o?"lowest":o,a=t.voids,s=void 0!==a&&a,c=t.match;if(n){null==c&&(c=Ot.isPath(n)?su(e,n):function(t){return fe.isElement(t)&&Be.isBlock(e,t)});for(var f=Be.pathRef(e,u),l=Be.nodes(e,{at:n,match:c,mode:i,voids:s}),D=Array.from(l,(function(t){var u=d(t,2)[1];return Be.pathRef(e,u)})),C=0,h=D;C<h.length;C++){var v=h[C].unref(),p=f.current;0!==v.length&&e.apply({type:"move_node",path:v,newPath:p}),f.current&&Ot.isSibling(p,v)&&Ot.isAfter(p,v)&&(f.current=Ot.next(f.current))}f.unref()}}))},removeNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be.withoutNormalizing(e,(function(){var u=t.hanging,r=void 0!==u&&u,n=t.voids,o=void 0!==n&&n,i=t.mode,a=void 0===i?"lowest":i,s=t.at,c=void 0===s?e.selection:s,f=t.match;if(c){null==f&&(f=Ot.isPath(c)?su(e,c):function(t){return fe.isElement(t)&&Be.isBlock(e,t)}),!r&&Rt.isRange(c)&&(c=Be.unhangRange(e,c,{voids:o}));for(var l=Be.nodes(e,{at:c,match:f,mode:a,voids:o}),D=Array.from(l,(function(t){var u=d(t,2)[1];return Be.pathRef(e,u)})),C=0,h=D;C<h.length;C++){var v=h[C].unref();if(v){var p=Be.node(e,v),B=d(p,1)[0];e.apply({type:"remove_node",path:v,node:B})}}}}))},setNodes:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Be.withoutNormalizing(e,(function(){var r=u.match,n=u.at,o=void 0===n?e.selection:n,i=u.compare,a=u.merge,s=u.hanging,c=void 0!==s&&s,f=u.mode,l=void 0===f?"lowest":f,D=u.split,C=void 0!==D&&D,h=u.voids,v=void 0!==h&&h;if(o){if(null==r&&(r=Ot.isPath(o)?su(e,o):function(t){return fe.isElement(t)&&Be.isBlock(e,t)}),!c&&Rt.isRange(o)&&(o=Be.unhangRange(e,o,{voids:v})),C&&Rt.isRange(o)){if(Rt.isCollapsed(o)&&Be.leaf(e,o.anchor)[0].text.length>0)return;var p=Be.rangeRef(e,o,{affinity:"inward"}),B=Rt.edges(o),A=d(B,2),F=A[0],E=A[1],g="lowest"===l?"lowest":"highest",y=Be.isEnd(e,E,E.path);pu.splitNodes(e,{at:E,match:r,mode:g,voids:v,always:!y});var m=Be.isStart(e,F,F.path);pu.splitNodes(e,{at:F,match:r,mode:g,voids:v,always:!m}),o=p.unref(),null==u.at&&pu.select(e,o)}i||(i=function(e,t){return e!==t});var b,w=ru(Be.nodes(e,{at:o,match:r,mode:l,voids:v}));try{for(w.s();!(b=w.n()).done;){var x=d(b.value,2),O=x[0],P=x[1],k={},j={};if(0!==P.length){var S=!1;for(var _ in t)"children"!==_&&"text"!==_&&i(t[_],O[_])&&(S=!0,O.hasOwnProperty(_)&&(k[_]=O[_]),a?null!=t[_]&&(j[_]=a(O[_],t[_])):null!=t[_]&&(j[_]=t[_]));S&&e.apply({type:"set_node",path:P,properties:k,newProperties:j})}}}catch(e){w.e(e)}finally{w.f()}}}))},splitNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be.withoutNormalizing(e,(function(){var u=t.mode,r=void 0===u?"lowest":u,n=t.voids,o=void 0!==n&&n,i=t.match,a=t.at,s=void 0===a?e.selection:a,c=t.height,f=void 0===c?0:c,l=t.always,D=void 0!==l&&l;if(null==i&&(i=function(t){return fe.isElement(t)&&Be.isBlock(e,t)}),Rt.isRange(s)&&(s=au(e,s)),Ot.isPath(s)){var C=s,h=Be.point(e,C),v=Be.parent(e,C),p=d(v,1)[0];i=function(e){return e===p},f=h.path.length-C.length+1,s=h,D=!0}if(s){var B,A=Be.pointRef(e,s,{affinity:"backward"});try{var F=Be.nodes(e,{at:s,match:i,mode:r,voids:o}),E=d(F,1)[0];if(!E)return;var g=Be.void(e,{at:s,mode:"highest"});if(!o&&g){var y=d(g,2),m=y[0],b=y[1];if(fe.isElement(m)&&e.isInline(m)){var w=Be.after(e,b);if(!w){var x=Ot.next(b);pu.insertNodes(e,{text:""},{at:x,voids:o}),w=Be.point(e,x)}s=w,D=!0}f=s.path.length-b.length+1,D=!0}B=Be.pointRef(e,s);var O,P=s.path.length-f,k=d(E,2)[1],j=s.path.slice(0,P),S=0===f?s.offset:s.path[P]+0,_=ru(Be.levels(e,{at:j,reverse:!0,voids:o}));try{for(_.s();!(O=_.n()).done;){var N=d(O.value,2),T=N[0],R=N[1],I=!1;if(R.length<k.length||0===R.length||!o&&fe.isElement(T)&&Be.isVoid(e,T))break;var L=A.current,M=Be.isEnd(e,L,R);if(D||!A||!Be.isEdge(e,L,R)){I=!0;var q=mt.extractProps(T);e.apply({type:"split_node",path:R,position:S,properties:q})}S=R[R.length-1]+(I||M?1:0)}}catch(e){_.e(e)}finally{_.f()}if(null==t.at){var V=B.current||Be.end(e,[]);pu.select(e,V)}}finally{var z;A.unref(),null===(z=B)||void 0===z||z.unref()}}}))},unsetNodes:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r,n={},o=ru(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n[i]=null}}catch(e){o.e(e)}finally{o.f()}pu.setNodes(e,n,u)},unwrapNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be.withoutNormalizing(e,(function(){var u=t.mode,r=void 0===u?"lowest":u,n=t.split,o=void 0!==n&&n,i=t.voids,a=void 0!==i&&i,s=t.at,c=void 0===s?e.selection:s,f=t.match;if(c){null==f&&(f=Ot.isPath(c)?su(e,c):function(t){return fe.isElement(t)&&Be.isBlock(e,t)}),Ot.isPath(c)&&(c=Be.range(e,c));var l,D=Rt.isRange(c)?Be.rangeRef(e,c):null,C=Be.nodes(e,{at:c,match:f,mode:r,voids:a}),h=Array.from(C,(function(t){var u=d(t,2)[1];return Be.pathRef(e,u)})).reverse(),v=ru(h);try{var p=function(){var t=l.value.unref(),u=Be.node(e,t),r=d(u,1)[0],n=Be.range(e,t);o&&D&&(n=Rt.intersection(D.current,n)),pu.liftNodes(e,{at:n,match:function(e){return fe.isAncestor(r)&&r.children.includes(e)},voids:a})};for(v.s();!(l=v.n()).done;)p()}catch(e){v.e(e)}finally{v.f()}D&&D.unref()}}))},wrapNodes:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Be.withoutNormalizing(e,(function(){var r=u.mode,n=void 0===r?"lowest":r,o=u.split,i=void 0!==o&&o,a=u.voids,s=void 0!==a&&a,c=u.match,f=u.at,l=void 0===f?e.selection:f;if(l){if(null==c&&(c=Ot.isPath(l)?su(e,l):e.isInline(t)?function(t){return fe.isElement(t)&&Be.isInline(e,t)||Jt.isText(t)}:function(t){return fe.isElement(t)&&Be.isBlock(e,t)}),i&&Rt.isRange(l)){var D=Rt.edges(l),C=d(D,2),h=C[0],v=C[1],p=Be.rangeRef(e,l,{affinity:"inward"});pu.splitNodes(e,{at:v,match:c,voids:s}),pu.splitNodes(e,{at:h,match:c,voids:s}),l=p.unref(),null==u.at&&pu.select(e,l)}for(var B=Array.from(Be.nodes(e,{at:l,match:e.isInline(t)?function(t){return fe.isElement(t)&&Be.isBlock(e,t)}:function(e){return Be.isEditor(e)},mode:"lowest",voids:s})),A=0,F=B;A<F.length;A++){var E=d(F[A],2)[1],g=Rt.isRange(l)?Rt.intersection(l,Be.range(e,E)):l;if(g){var y=Array.from(Be.nodes(e,{at:g,match:c,mode:n,voids:s}));if(y.length>0){var m=function(){var u=d(y,1)[0],r=y[y.length-1],n=d(u,2)[1],o=d(r,2)[1];if(0===n.length&&0===o.length)return"continue";var i=Ot.equals(n,o)?Ot.parent(n):Ot.common(n,o),a=Be.range(e,n,o),c=Be.node(e,i),f=d(c,1)[0],l=i.length+1,D=Ot.next(o.slice(0,l)),C=uu(uu({},t),{},{children:[]});pu.insertNodes(e,C,{at:D,voids:s}),pu.moveNodes(e,{at:a,match:function(e){return fe.isAncestor(f)&&f.children.includes(e)},to:D.concat(0),voids:s})}();if("continue"===m)continue}}}}}))}},iu=function e(t,u){if(fe.isElement(u)){var r=u;return!!Be.isVoid(t,u)||1===r.children.length&&e(t,r.children[0])}return!Be.isEditor(u)},au=function(e,t){if(Rt.isCollapsed(t))return t.anchor;var u=Rt.edges(t),r=d(u,2)[1],n=Be.pointRef(e,r);return pu.delete(e,{at:t}),n.unref()},su=function(e,t){var u=Be.node(e,t),r=d(u,1)[0];return function(e){return e===r}};function cu(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function fu(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):cu(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}var lu={collapse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.edge,r=void 0===u?"anchor":u,n=e.selection;if(n)if("anchor"===r)pu.select(e,n.anchor);else if("focus"===r)pu.select(e,n.focus);else if("start"===r){var o=Rt.edges(n),i=d(o,1),a=i[0];pu.select(e,a)}else if("end"===r){var s=Rt.edges(n),c=d(s,2),f=c[1];pu.select(e,f)}},deselect:function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e.selection,r=t.distance,n=void 0===r?1:r,o=t.unit,i=void 0===o?"character":o,a=t.reverse,s=void 0!==a&&a,c=t.edge,f=void 0===c?null:c;if(u){"start"===f&&(f=Rt.isBackward(u)?"focus":"anchor"),"end"===f&&(f=Rt.isBackward(u)?"anchor":"focus");var l=u.anchor,D=u.focus,C={distance:n,unit:i},d={};if(null==f||"anchor"===f){var h=s?Be.before(e,l,C):Be.after(e,l,C);h&&(d.anchor=h)}if(null==f||"focus"===f){var v=s?Be.before(e,D,C):Be.after(e,D,C);v&&(d.focus=v)}pu.setSelection(e,d)}},select:function(e,t){var u=e.selection;if(t=Be.range(e,t),u)pu.setSelection(e,t);else{if(!Rt.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Mt.stringify(t)));e.apply({type:"set_selection",properties:u,newProperties:t})}},setPoint:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.selection,n=u.edge,o=void 0===n?"both":n;if(r){"start"===o&&(o=Rt.isBackward(r)?"focus":"anchor"),"end"===o&&(o=Rt.isBackward(r)?"anchor":"focus");var i=r.anchor,a=r.focus,s="anchor"===o?i:a;pu.setSelection(e,c({},"anchor"===o?"anchor":"focus",fu(fu({},s),t)))}},setSelection:function(e,t){var u=e.selection,r={},n={};if(u){for(var o in t)("anchor"===o&&null!=t.anchor&&!St.equals(t.anchor,u.anchor)||"focus"===o&&null!=t.focus&&!St.equals(t.focus,u.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==u[o])&&(r[o]=u[o],n[o]=t[o]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:n})}}};function Du(e,t){var u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!u){if(Array.isArray(e)||(u=function(e,t){if(!e)return;if("string"==typeof e)return Cu(e,t);var u=Object.prototype.toString.call(e).slice(8,-1);"Object"===u&&e.constructor&&(u=e.constructor.name);if("Map"===u||"Set"===u)return Array.from(e);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return Cu(e,t)}(e))||t&&e&&"number"==typeof e.length){u&&(e=u);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){u=u.call(e)},n:function(){var e=u.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==u.return||u.return()}finally{if(a)throw o}}}}function Cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var u=0,r=new Array(t);u<t;u++)r[u]=e[u];return r}var du={delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be.withoutNormalizing(e,(function(){var u=t.reverse,r=void 0!==u&&u,n=t.unit,o=void 0===n?"character":n,i=t.distance,a=void 0===i?1:i,s=t.voids,c=void 0!==s&&s,f=t.at,l=void 0===f?e.selection:f,D=t.hanging,C=void 0!==D&&D;if(l){var h=!1;if(Rt.isRange(l)&&Rt.isCollapsed(l)&&(h=!0,l=l.anchor),St.isPoint(l)){var v=Be.void(e,{at:l,mode:"highest"});if(!c&&v){l=d(v,2)[1]}else{var p={unit:o,distance:a};l={anchor:l,focus:r?Be.before(e,l,p)||Be.start(e,[]):Be.after(e,l,p)||Be.end(e,[])},C=!0}}if(Ot.isPath(l))pu.removeNodes(e,{at:l,voids:c});else if(!Rt.isCollapsed(l)){if(!C){var B=Rt.edges(l),A=d(B,2)[1],F=Be.end(e,[]);St.equals(A,F)||(l=Be.unhangRange(e,l,{voids:c}))}var E=Rt.edges(l),g=d(E,2),y=g[0],m=g[1],b=Be.above(e,{match:function(t){return fe.isElement(t)&&Be.isBlock(e,t)},at:y,voids:c}),w=Be.above(e,{match:function(t){return fe.isElement(t)&&Be.isBlock(e,t)},at:m,voids:c}),x=b&&w&&!Ot.equals(b[1],w[1]),O=Ot.equals(y.path,m.path),P=c?null:Be.void(e,{at:y,mode:"highest"}),k=c?null:Be.void(e,{at:m,mode:"highest"});if(P){var j=Be.before(e,y);j&&b&&Ot.isAncestor(b[1],j.path)&&(y=j)}if(k){var S=Be.after(e,m);S&&w&&Ot.isAncestor(w[1],S.path)&&(m=S)}var _,N,T=[],R=Du(Be.nodes(e,{at:l,voids:c}));try{for(R.s();!(N=R.n()).done;){var I=N.value,L=d(I,2),M=L[0],q=L[1];_&&0===Ot.compare(q,_)||(!c&&fe.isElement(M)&&Be.isVoid(e,M)||!Ot.isCommon(q,y.path)&&!Ot.isCommon(q,m.path))&&(T.push(I),_=q)}}catch(e){R.e(e)}finally{R.f()}var V=Array.from(T,(function(t){var u=d(t,2)[1];return Be.pathRef(e,u)})),z=Be.pointRef(e,y),W=Be.pointRef(e,m),$="";if(!O&&!P){var U=z.current,G=Be.leaf(e,U),J=d(G,1)[0],K=U.path,Z=y.offset,Y=J.text.slice(Z);Y.length>0&&(e.apply({type:"remove_text",path:K,offset:Z,text:Y}),$=Y)}if(V.reverse().map((function(e){return e.unref()})).filter((function(e){return null!==e})).forEach((function(t){return pu.removeNodes(e,{at:t,voids:c})})),!k){var X=W.current,H=Be.leaf(e,X),Q=d(H,1)[0],ee=X.path,te=O?y.offset:0,ue=Q.text.slice(te,m.offset);ue.length>0&&(e.apply({type:"remove_text",path:ee,offset:te,text:ue}),$=ue)}!O&&x&&W.current&&z.current&&pu.mergeNodes(e,{at:W.current,hanging:!0,voids:c}),h&&r&&"character"===o&&$.length>1&&$.match(/[\u0E00-\u0E7F]+/)&&pu.insertText(e,$.slice(0,$.length-a));var re=z.unref(),ne=W.unref(),oe=r?re||ne:ne||re;null==t.at&&oe&&pu.select(e,oe)}}}))},insertFragment:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Be.withoutNormalizing(e,(function(){var r=u.hanging,n=void 0!==r&&r,o=u.voids,i=void 0!==o&&o,a=u.at,s=void 0===a?e.selection:a;if(t.length&&s){if(Rt.isRange(s))if(n||(s=Be.unhangRange(e,s,{voids:i})),Rt.isCollapsed(s))s=s.anchor;else{var c=Rt.edges(s),f=d(c,2)[1];if(!i&&Be.void(e,{at:f}))return;var l=Be.pointRef(e,f);pu.delete(e,{at:s}),s=l.unref()}else Ot.isPath(s)&&(s=Be.start(e,s));if(i||!Be.void(e,{at:s})){var D=Be.above(e,{at:s,match:function(t){return fe.isElement(t)&&Be.isInline(e,t)},mode:"highest",voids:i});if(D){var C=d(D,2)[1];if(Be.isEnd(e,s,C))s=Be.after(e,C);else if(Be.isStart(e,s,C)){s=Be.before(e,C)}}var h,v=Be.above(e,{match:function(t){return fe.isElement(t)&&Be.isBlock(e,t)},at:s,voids:i}),p=d(v,2)[1],B=Be.isStart(e,s,p),A=Be.isEnd(e,s,p),F=B&&A,E=!B||B&&A,g=!A,y=mt.first({children:t},[]),m=d(y,2)[1],b=mt.last({children:t},[]),w=d(b,2)[1],x=[],O=function(t){var u=d(t,2),r=u[0],n=u[1];return!(0===n.length)&&(!!F||!(E&&Ot.isAncestor(n,m)&&fe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(g&&Ot.isAncestor(n,w)&&fe.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))},P=Du(mt.nodes({children:t},{pass:O}));try{for(P.s();!(h=P.n()).done;){var k=h.value;O(k)&&x.push(k)}}catch(e){P.e(e)}finally{P.f()}for(var j=[],S=[],_=[],N=!0,T=!1,R=0,I=x;R<I.length;R++){var L=d(I[R],1)[0];fe.isElement(L)&&!e.isInline(L)?(N=!1,T=!0,S.push(L)):N?j.push(L):_.push(L)}var M=Be.nodes(e,{at:s,match:function(t){return Jt.isText(t)||Be.isInline(e,t)},mode:"highest",voids:i}),q=d(M,1)[0],V=d(q,2)[1],z=Be.isStart(e,s,V),W=Be.isEnd(e,s,V),$=Be.pathRef(e,A&&!_.length?Ot.next(p):p),U=Be.pathRef(e,W?Ot.next(V):V);pu.splitNodes(e,{at:s,match:function(t){return T?fe.isElement(t)&&Be.isBlock(e,t):Jt.isText(t)||Be.isInline(e,t)},mode:T?"lowest":"highest",always:T&&(!B||j.length>0)&&(!A||_.length>0),voids:i});var G,J=Be.pathRef(e,!z||z&&W?Ot.next(V):V);if(pu.insertNodes(e,j,{at:J.current,match:function(t){return Jt.isText(t)||Be.isInline(e,t)},mode:"highest",voids:i}),F&&!j.length&&S.length&&!_.length&&pu.delete(e,{at:p,voids:i}),pu.insertNodes(e,S,{at:$.current,match:function(t){return fe.isElement(t)&&Be.isBlock(e,t)},mode:"lowest",voids:i}),pu.insertNodes(e,_,{at:U.current,match:function(t){return Jt.isText(t)||Be.isInline(e,t)},mode:"highest",voids:i}),!u.at)if(_.length>0&&U.current?G=Ot.previous(U.current):S.length>0&&$.current?G=Ot.previous($.current):J.current&&(G=Ot.previous(J.current)),G){var K=Be.end(e,G);pu.select(e,K)}J.unref(),$.unref(),U.unref()}}}))},insertText:function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Be.withoutNormalizing(e,(function(){var r=u.voids,n=void 0!==r&&r,o=u.at,i=void 0===o?e.selection:o;if(i){if(Ot.isPath(i)&&(i=Be.range(e,i)),Rt.isRange(i))if(Rt.isCollapsed(i))i=i.anchor;else{var a=Rt.end(i);if(!n&&Be.void(e,{at:a}))return;var s=Rt.start(i),c=Be.pointRef(e,s),f=Be.pointRef(e,a);pu.delete(e,{at:i,voids:n});var l=c.unref(),D=f.unref();i=l||D,pu.setSelection(e,{anchor:i,focus:i})}if(n||!Be.void(e,{at:i})){var C=i,d=C.path,h=C.offset;t.length>0&&e.apply({type:"insert_text",path:d,offset:h,text:t})}}}))}};function hu(e,t){var u=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),u.push.apply(u,r)}return u}function vu(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?hu(Object(u),!0).forEach((function(t){c(e,t,u[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):hu(Object(u)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))}))}return e}var pu=vu(vu(vu(vu({},Ht),ou),lu),du);e.Editor=Be,e.Element=fe,e.Location=Ae,e.Node=mt,e.Operation=xt,e.Path=Ot,e.PathRef=Pt,e.Point=St,e.PointRef=_t,e.Range=Rt,e.RangeRef=It,e.Scrubber=Mt,e.Span=Fe,e.Text=Jt,e.Transforms=pu,e.createEditor=function(){var e={children:[],operations:[],selection:null,marks:null,isInline:function(){return!1},isVoid:function(){return!1},markableVoid:function(){return!1},onChange:function(){},apply:function(t){var u,r=m(Be.pathRefs(e));try{for(r.s();!(u=r.n()).done;){var n=u.value;Pt.transform(n,t)}}catch(e){r.e(e)}finally{r.f()}var o,i=m(Be.pointRefs(e));try{for(i.s();!(o=i.n()).done;){var a=o.value;_t.transform(a,t)}}catch(e){i.e(e)}finally{i.f()}var s,c=m(Be.rangeRefs(e));try{for(c.s();!(s=c.n()).done;){var f=s.value;It.transform(f,t)}}catch(e){c.e(e)}finally{c.f()}var l,D,C=h.get(e)||[],d=v.get(e)||new Set,B=function(e){if(e){var t=e.join(",");D.has(t)||(D.add(t),l.push(e))}};if(Ot.operationCanTransformPath(t)){l=[],D=new Set;var A,F=m(C);try{for(F.s();!(A=F.n()).done;){var E=A.value;B(Ot.transform(E,t))}}catch(e){F.e(e)}finally{F.f()}}else l=C,D=d;var g,y=m(e.getDirtyPaths(t));try{for(y.s();!(g=y.n()).done;){B(g.value)}}catch(e){y.e(e)}finally{y.f()}h.set(e,l),v.set(e,D),pu.transform(e,t),e.operations.push(t),Be.normalize(e,{operation:t}),"set_selection"===t.type&&(e.marks=null),p.get(e)||(p.set(e,!0),Promise.resolve().then((function(){p.set(e,!1),e.onChange({operation:t}),e.operations=[]})))},addMark:function(t,u){var r=e.selection;if(e.markableVoid,r){var n=function(t,u){if(!Jt.isText(t))return!1;var r=Be.parent(e,u),n=d(r,2),o=n[0];return n[1],!e.isVoid(o)||e.markableVoid(o)},o=Rt.isExpanded(r),i=!1;if(!o){var a=Be.node(e,r),s=d(a,2),f=s[0],l=s[1];if(f&&n(f,l)){var D=Be.parent(e,l),C=d(D,1)[0];i=C&&e.markableVoid(C)}}if(o||i)pu.setNodes(e,c({},t,u),{match:n,split:!0,voids:!0});else{var h=y(y({},Be.marks(e)||{}),{},c({},t,u));e.marks=h,p.get(e)||e.onChange()}}},deleteBackward:function(t){var u=e.selection;u&&Rt.isCollapsed(u)&&pu.delete(e,{unit:t,reverse:!0})},deleteForward:function(t){var u=e.selection;u&&Rt.isCollapsed(u)&&pu.delete(e,{unit:t})},deleteFragment:function(t){var u=e.selection;u&&Rt.isExpanded(u)&&pu.delete(e,{reverse:"backward"===t})},getFragment:function(){var t=e.selection;return t?mt.fragment(e,t):[]},insertBreak:function(){pu.splitNodes(e,{always:!0})},insertSoftBreak:function(){pu.splitNodes(e,{always:!0})},insertFragment:function(t){pu.insertFragment(e,t)},insertNode:function(t){pu.insertNodes(e,t)},insertText:function(t){var u=e.selection,r=e.marks;if(u){if(r){var n=y({text:t},r);pu.insertNodes(e,n)}else pu.insertText(e,t);e.marks=null}},normalizeNode:function(t){var u=d(t,2),r=u[0],n=u[1];if(!Jt.isText(r))if(fe.isElement(r)&&0===r.children.length){pu.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var o=!Be.isEditor(r)&&(fe.isElement(r)&&(e.isInline(r)||0===r.children.length||Jt.isText(r.children[0])||e.isInline(r.children[0]))),i=0,a=0;a<r.children.length;a++,i++){var s=mt.get(e,n);if(!Jt.isText(s)){var c=r.children[a],f=s.children[i-1],l=a===r.children.length-1;if((Jt.isText(c)||fe.isElement(c)&&e.isInline(c))!==o)pu.removeNodes(e,{at:n.concat(i),voids:!0}),i--;else if(fe.isElement(c)){if(e.isInline(c))if(null!=f&&Jt.isText(f)){if(l){pu.insertNodes(e,{text:""},{at:n.concat(i+1),voids:!0}),i++}}else{pu.insertNodes(e,{text:""},{at:n.concat(i),voids:!0}),i++}}else null!=f&&Jt.isText(f)&&(Jt.equals(c,f,{loose:!0})?(pu.mergeNodes(e,{at:n.concat(i),voids:!0}),i--):""===f.text?(pu.removeNodes(e,{at:n.concat(i-1),voids:!0}),i--):""===c.text&&(pu.removeNodes(e,{at:n.concat(i),voids:!0}),i--))}}},removeMark:function(t){var u=e.selection;if(u){var r=function(t,u){if(!Jt.isText(t))return!1;var r=Be.parent(e,u),n=d(r,2),o=n[0];return n[1],!e.isVoid(o)||e.markableVoid(o)},n=Rt.isExpanded(u),o=!1;if(!n){var i=Be.node(e,u),a=d(i,2),s=a[0],c=a[1];if(s&&r(s,c)){var f=Be.parent(e,c),l=d(f,1)[0];o=l&&e.markableVoid(l)}}if(n||o)pu.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var D=y({},Be.marks(e)||{});delete D[t],e.marks=D,p.get(e)||e.onChange()}}},getDirtyPaths:function(e){switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e.path;return Ot.levels(t);case"insert_node":var u=e.node,r=e.path,n=Ot.levels(r),o=Jt.isText(u)?[]:Array.from(mt.nodes(u),(function(e){var t=d(e,2)[1];return r.concat(t)}));return[].concat(s(n),s(o));case"merge_node":var i=e.path,a=Ot.ancestors(i),c=Ot.previous(i);return[].concat(s(a),[c]);case"move_node":var f=e.path,l=e.newPath;if(Ot.equals(f,l))return[];var D,C=[],h=[],v=m(Ot.ancestors(f));try{for(v.s();!(D=v.n()).done;){var p=D.value,B=Ot.transform(p,e);C.push(B)}}catch(e){v.e(e)}finally{v.f()}var A,F=m(Ot.ancestors(l));try{for(F.s();!(A=F.n()).done;){var E=A.value,g=Ot.transform(E,e);h.push(g)}}catch(e){F.e(e)}finally{F.f()}var y=h[h.length-1],b=l[l.length-1],w=y.concat(b);return[].concat(C,h,[w]);case"remove_node":var x=e.path,O=Ot.ancestors(x);return s(O);case"split_node":var P=e.path,k=Ot.levels(P),j=Ot.next(P);return[].concat(s(k),[j]);default:return[]}},shouldNormalize:function(e){var t=e.iteration,u=42*e.initialDirtyPathsLength;if(t>u)throw new Error("Could not completely normalize the editor after ".concat(u," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0}};return e},Object.defineProperty(e,"__esModule",{value:!0})}));
